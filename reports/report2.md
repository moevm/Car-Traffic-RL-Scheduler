# Разработка планирования дорожного трафика с помощью Reinforcement Learning

## Выполненные задачи

### Изучить возможности изменять маршрут автомобиля через API в ходе симуляции, в том числе и в случае, когда маршрут уже задан через конфигурационный файл.

Маршрут автомобиля можно менять через API в ходе симуляции, в том числе, когда маршрут уже задан через конфигурационный файл. Существует два решения данной задачи:
* traci.vehicle.setRoute(vehId, edgesList) -- данный метод принимает в качестве аргументов id транспортного средства vehId, edgesList -- список рёбер, по которому должен проехать vehId, но должно быть выполнено следующее условие: первый элемент списка edgesList должен совпадать с текущим ребром, в котором находится транспортное средство, ибо в ином случае в runtime произойдёт ошибка;
* traci.vehicle.changeTarget(vehId, edgeTarget) -- данный метод принимает в качестве аргументов id транспортного средства и конечное ребро, куда должно приехать транспортное средство наикратчайшим путём.

```python
import traci
sumo_cmd = ["sumo-gui", "-c", "test.sumocfg"]
traci.start(sumo_cmd) # запуск симуляции
edges = []
for i in range(28, 43):
    edges.append('E' + str(i))
while traci.simulation.getMinExpectedNumber() > 0: #пока есть транспортные средства на карте
    traci.simulationStep() # сделать шаг симуляции
    if traci.simulation.getTime() == 1.0:
        traci.vehicle.setRoute('v_0', edges) # traci.vehicle.changeTarget('v_0', 'E42')
traci.close() # закрыть симуляцию
```
### Всегда ли маршрут из одного ребра в другое строится с помощью алгоритма Дейкстры?

Если в netedit или TraCI самостоятельно не задать список рёбер, по которым должно двигаться транспортное средство, а задать только начальное и конечное ребро (в TraCI достаточно указать конечное ребро с помощью метода traci.vehicle.setTarget(vehId, edgeTarget)), то путь будет строиться по алгоритму Дейкстры.

### Изучить список параметров для генерации карт

С помощью netgenerate можно генерировать карты в форме сеток, паутин и случайные. 

При генерации карт в форме сетки доступны следующие аргументы:
* количество узлов по вертикали и горизонтали;
* длина улиц по вертикали и горизонтали.
  
При генерации карт в форме паутин доступны следующие аргументы:
* количество внешних граней паутины;
* количество кругов паутины;
* наличие центрального узла.
  
При генерации случайных карт доступны следующие аргументы:

* максимальная и минимальная длина каждого ребра;
* количество узлов;
* количество попыток создать каждый узел;
* вероятность того, что на следующей итерации создания карты из узла появится дорога;
* вероятности того, что узел будет иметь 1/2/3/4/5/6 соседей.

При генерации карт любым способом будет только 1 компонента связности.

### Изучить существующие метрики для оценки связности графа и их применимость к генерации карт с помощью в SUMO

Так как граф связный, то существует только 1 компонента связности. 

### Реализовать скрипт для генерации нескольких карт по заданным параметрам

Не реализован.
